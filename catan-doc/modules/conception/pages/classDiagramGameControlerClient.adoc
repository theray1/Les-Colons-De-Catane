@startuml

interface GameControler{
	receiveCommand(Command): void
	addServer(Login) : void
	
	ActivateThieve() : void
	MoveThieve() : void
	Ping() : void
	Build() : void
	ActiveCard() : void
	AddCard() : void
	BuyCard() : void
	StartTurn() : void
	EndTurn() : void
	TradeWithNonPlayerEntity() : void
	TradeWithPlayer() : void
	DenyTrade() : void
	AcceptTrade() : void
}

interface Observable{
	addObserver(Observer) : void
	removeObserver(Observer) : void
	notifyObservers() : void
}

interface Observer{
	update() : void
}

interface Command {
    execute(): void
    getRecipients() : Player[]
}

interface Serializer {
    serialize(Command): String
    deSerialize(String): Command
}

interface NetworkControler {
	sendCommand(Command) : void
	addServer(Login) : void
}

interface CommandGameFactory {
	ActivateThieve(Player[]) : Command
	MoveThieve(Player[], Coordinates) : Command
	Ping(Player[]) : Command
	Build(Player[], Building) : Command
	ActiveCard(Player[], Card) : Command
	AddCard(Player[], Player, Integer) : Command
	BuyCard(Player[], Resource[]) : Command
	EndTour(Player[], Player) : Command
	TradeWithNonPlayerEntity(Player, Resource[], Resource[] ) : Command
	TradeWithPlayer(Player, Resource[], Player, Resource[]) : Command
	DenyTrade(Player, Player) : Command
	AcceptTrade(Player, Player) : Command
}

interface Player{}
interface GameFacade {
	trade(Player, Resource[], Player, Resource[]) : void
	addResourcesTo(Player, Resource[]) : void
	removeResourcesTo(Player, Resource[]) : void
}

class GameControlerImpl{
	me : Player
}

GameControler <|-down- GameControlerImpl
Observable <|-down- GameControlerImpl
GameControlerImpl *-down- CommandGameFactory
GameControlerImpl *-right- NetworkControler
GameControlerImpl *-down- GameFacade
GameControlerImpl *-left- Serializer
GameControlerImpl *-right- Observer
GameControlerImpl *-right- "3-4" Player
GameControlerImpl *-left- Command

@enduml
