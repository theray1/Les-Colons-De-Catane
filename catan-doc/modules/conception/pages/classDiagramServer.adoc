[plantuml]
....
@startuml
package Server {

    class Server {
        main(): void
    }

    package Core {
        package Game {
        	   interface Player{}
            interface GameFacade {
	            start() : void
	        	end() : void
	        	endPlayer() : void
	        	trade(Player, Resource[], Player, Resource[]) : void
	        	addresourcesTo(Player, Resource[]) : void
	        	removeresourcesTo(Player, Resource[]) : void
            }
        }
        package Commands {
            interface CommandFactory {
            	createCommand_ActivateThieve(Player[]) : Command
            	createCommand_MoveThieve(Player[], Coordinates) : Command
            	createCommand_Ping(Player[]) : Command
            	createCommand_Build(Player[], Building) : Command
            	createCommand_ActiveCard(Player[], Card) : Command
            	createCommand_AddCard(Player[], Player, Integer) : Command
            	createCommand_BuyCard(Player[], Resource[]) : Command
            	createCommand_EndTour(Player[], Player) : Command
            	createCommand_Win(Player[]) : Command
            	createCommand_SetResources(Player) : Command
            	createCommand_AddResources(Player[], Player, Integer) : Command
            	createCommand_TradeWithNonPlayerEntity(Player, Resource[], Resource[] ) : Command
            	createCommand_TradeWithPlayer(Player, Resource[], Player, Resource[]) : Command
            	createCommand_DenyTrade(Player, Player) : Command
            	createCommand_AcceptTrade(Player, Player) : Command
            }
            interface Command {
                execute(): void
                getRecipients() : Player[]
            }

            interface Serializer {
                serialize(Command): String
                deSerialize(String): Command
            }
        }

        package Networking {
            interface ConnectionHandler {
                Broadcast(Command): void
                sendCommand(Command): void
                isEnabled(): Boolean
            }
        }

        package controler {
            interface NetworkControler {
            	sendCommand(Command) : void
            }
            note top: Network management "module"

            interface GameControler {
                receiveCommand(Command): void
            }

        }

    }
      
    package ServerImpl {
        package CommandsImpl {
            class SerializerImpl {}
            class CommandsImpl {
            		recipients : Player[]
            }
            note bottom : Represent all types of commands.
            class CommandFactoryImpl {}

            Command <|--CommandsImpl
            CommandFactory <|-- CommandFactoryImpl
            Serializer <|-- SerializerImpl
        }

        package NetworkingImpl {
            class WebSocketAdapterImpl {
               links : Map[key: GameImpl.Player][value: Socket]
            }
            class NetworkControlerImpl {}

            ConnectionHandler <|-- WebSocketAdapterImpl

            NetworkControler <|-- NetworkControlerImpl
            
            NetworkControlerImpl *-up- ConnectionHandler
		   
        }
        package controlerImpl {

            class GameControlerImpl {
                players: Player[]
                commands: Command[]
            }
            GameControlerImpl *-up- NetworkControler
            GameControlerImpl *-up- GameFacade
            GameControlerImpl *-up- Serializer
            GameControler <|-up- GameControlerImpl
            
        }
    }
  
    package GameImpl {
        class GameFacadeImpl {}
        
        GameFacade <|-right- GameFacadeImpl
    }

}
@enduml
....
